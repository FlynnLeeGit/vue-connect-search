/**
 * vue-connect-search v0.2.2
 * (c) 2018 FlynnLee
 * @license MIT
 */
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):e.vueConnectSearch=n()}(this,function(){"use strict";var e=function(e,n){for(var t in e)n(e[t],t)},n=function(e){return void 0!==e},t=function(e,n){var t=Object.keys(e),i=Object.keys(n);if(t.length!==i.length)return!1;var o=!0;for(var r in e)n[r]!==e[r]&&(o=!1);return o},i=function(t,i,o){var r=Object.assign({},i.query);return e(t,function(e,t){var i=r[t];switch(e.type){case String:r[t]=i+"";break;case Number:/\d+/.test(i)&&(r[t]=+i)}!n(i)&&n(e.default)&&(r[t]=e.default)}),r},o={name:"vue-connect-search"};return o.install=function(e){e.mixin({beforeCreate:function(){if(this.$options.connectSearch){var n=this.$options.connectSearch.schema;e.util.defineReactive(this,"$search",i(n,this.$route))}},watch:{$route:function(e,n){if(this.$options.connectSearch){var o=this.$options.connectSearch,r=o.onParamsChange,a=o.onQueryChange,c=o.schema;if(e.path===n.path){var s=e.params,u=n.params;this.$search=i(c,e),t(s,u)?a&&a.call(this):r&&r.call(this)}}}}})},"undefined"!=typeof window&&window.Vue&&window.Vue.use(o),o});
